# System Architecture - Complete Overview

## Workflow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CRISIS-AI EVALUATION SYSTEM                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 1: MODEL TESTING                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ LM Studio (Server)  â”‚                                            â”‚
â”‚  â”‚  â€¢ Load model       â”‚                                            â”‚
â”‚  â”‚  â€¢ Start API        â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚             â”‚ HTTP API (localhost:1234)                             â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚  batch_test_models.py           â”‚  â—„â”€â”€â”€ User selects models     â”‚
â”‚  â”‚  â€¢ Lists models via CLI         â”‚                                â”‚
â”‚  â”‚  â€¢ Interactive checkbox UI      â”‚                                â”‚
â”‚  â”‚  â€¢ Auto load/unload models      â”‚                                â”‚
â”‚  â”‚  â€¢ Creates batch folder         â”‚                                â”‚
â”‚  â”‚    (YYYY-MM-DD_N)               â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚             â”‚ Calls for each model                                  â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚ llm-crisis-questions-test.py    â”‚                                â”‚
â”‚  â”‚  â€¢ Sends questions to model     â”‚                                â”‚
â”‚  â”‚  â€¢ Records answers + timing     â”‚                                â”‚
â”‚  â”‚  â€¢ Saves to batch folder        â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚             â”‚                                                        â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  test_results/YYYY-MM-DD_N/                 â”‚                    â”‚
â”‚  â”‚  â”œâ”€â”€ model1_timestamp.json                  â”‚                    â”‚
â”‚  â”‚  â”œâ”€â”€ model1_timestamp_runinfo.json          â”‚                    â”‚
â”‚  â”‚  â”œâ”€â”€ model2_timestamp.json                  â”‚                    â”‚
â”‚  â”‚  â””â”€â”€ model2_timestamp_runinfo.json          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 2: EVALUATION                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚  eval_batch.py              â”‚  â—„â”€â”€â”€ User runs evaluation        â”‚
â”‚  â”‚  â€¢ Lists available batches  â”‚                                    â”‚
â”‚  â”‚  â€¢ Auto-detect latest       â”‚                                    â”‚
â”‚  â”‚  â€¢ Sets BATCH_FOLDER env    â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚             â”‚ Calls with env var                                    â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚  test-evaluation.py             â”‚                                â”‚
â”‚  â”‚  â€¢ Reads batch folder           â”‚                                â”‚
â”‚  â”‚  â€¢ Filters _runinfo.json files  â”‚                                â”‚
â”‚  â”‚  â€¢ Sends to Gemini API          â”‚                                â”‚
â”‚  â”‚  â€¢ Gets scores + justifications â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚             â”‚ GEMINI_API_KEY                                        â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  Google Gemini API (Cloud)                 â”‚                     â”‚
â”‚  â”‚  â€¢ Evaluates each answer                   â”‚                     â”‚
â”‚  â”‚  â€¢ Provides ideal answer                   â”‚                     â”‚
â”‚  â”‚  â€¢ Scores 0-10 with justification          â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚             â”‚                                                        â”‚
â”‚             â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  gemini_evaluation_report_YYYY-MM-DD.json   â”‚                    â”‚
â”‚  â”‚  {                                          â”‚                    â”‚
â”‚  â”‚    "Category": {                            â”‚                    â”‚
â”‚  â”‚      "Subcategory": [                       â”‚                    â”‚
â”‚  â”‚        {                                    â”‚                    â”‚
â”‚  â”‚          "question": "...",                 â”‚                    â”‚
â”‚  â”‚          "gemini_evaluation": {             â”‚                    â”‚
â”‚  â”‚            "gemini_ideal_answer": "...",    â”‚                    â”‚
â”‚  â”‚            "evaluations": [                 â”‚                    â”‚
â”‚  â”‚              {                              â”‚                    â”‚
â”‚  â”‚                "model_name": "...",         â”‚                    â”‚
â”‚  â”‚                "llm_answer": "...",         â”‚                    â”‚
â”‚  â”‚                "score": 8,                  â”‚                    â”‚
â”‚  â”‚                "justification": "..."       â”‚                    â”‚
â”‚  â”‚              }                              â”‚                    â”‚
â”‚  â”‚            ]                                â”‚                    â”‚
â”‚  â”‚          }                                  â”‚                    â”‚
â”‚  â”‚        }                                    â”‚                    â”‚
â”‚  â”‚      ]                                      â”‚                    â”‚
â”‚  â”‚    }                                        â”‚                    â”‚
â”‚  â”‚  }                                          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 3: VISUALIZATION                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  OPTION A: Interactive Viewer (NEW! â­)         â”‚                â”‚
â”‚  â”‚                                                 â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚                â”‚
â”‚  â”‚  â”‚  evaluation-viewer.html     â”‚ â—„â”€ Just open! â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Pure HTML/CSS/JS         â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Drag & drop JSON         â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ No dependencies          â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Works offline            â”‚                â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚                â”‚
â”‚  â”‚             â”‚                                    â”‚                â”‚
â”‚  â”‚             â”‚ User drags JSON file               â”‚                â”‚
â”‚  â”‚             â–¼                                    â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                â”‚
â”‚  â”‚  â”‚  Browser (Local Processing)         â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Parse JSON                       â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Calculate rankings               â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Generate UI dynamically          â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Interactive score details        â”‚        â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                â”‚
â”‚  â”‚             â”‚                                    â”‚                â”‚
â”‚  â”‚             â–¼                                    â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                â”‚
â”‚  â”‚  â”‚  Beautiful Interactive Report       â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  ğŸ“Š Performance Summary Cards       â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  ğŸ“‹ Detailed Q&A Tables             â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  ğŸ” Click scores for details        â”‚        â”‚                â”‚
â”‚  â”‚  â”‚  âœ¨ Responsive & Mobile-Friendly    â”‚        â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  OPTION B: Static Generator (Legacy)            â”‚                â”‚
â”‚  â”‚                                                 â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚                â”‚
â”‚  â”‚  â”‚  html-report-generator.py   â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Reads latest JSON        â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Embeds data in HTML      â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Creates static file      â”‚                â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚                â”‚
â”‚  â”‚             â”‚                                    â”‚                â”‚
â”‚  â”‚             â–¼                                    â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚                â”‚
â”‚  â”‚  â”‚  evaluation_report.html     â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Self-contained           â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Fixed data               â”‚                â”‚                â”‚
â”‚  â”‚  â”‚  â€¢ Good for archiving       â”‚                â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KEY FEATURES                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ¤– Automated Model Testing                                         â”‚
â”‚     â€¢ CLI-based model switching (lms load/unload)                   â”‚
â”‚     â€¢ Interactive checkbox selection                                â”‚
â”‚     â€¢ Automatic batch folder creation                               â”‚
â”‚     â€¢ Accurate timing (excludes I/O overhead)                       â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“ Batch Organization                                              â”‚
â”‚     â€¢ Timestamped folders (YYYY-MM-DD_N)                            â”‚
â”‚     â€¢ Auto-increment same-day runs                                  â”‚
â”‚     â€¢ Clean separation of results                                   â”‚
â”‚     â€¢ Metadata tracking (_runinfo.json)                             â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“Š Smart Evaluation                                                â”‚
â”‚     â€¢ Batch-aware evaluation                                        â”‚
â”‚     â€¢ Environment variable control                                  â”‚
â”‚     â€¢ Automatic file filtering                                      â”‚
â”‚     â€¢ Latest-batch detection                                        â”‚
â”‚                                                                      â”‚
â”‚  âœ¨ Interactive Viewer (NEW!)                                       â”‚
â”‚     â€¢ Zero dependencies                                             â”‚
â”‚     â€¢ Drag & drop interface                                         â”‚
â”‚     â€¢ Instant processing                                            â”‚
â”‚     â€¢ Complete privacy (local only)                                 â”‚
â”‚     â€¢ Beautiful responsive UI                                       â”‚
â”‚                                                                      â”‚
â”‚  ğŸ”§ Developer Friendly                                              â”‚
â”‚     â€¢ Comprehensive documentation                                   â”‚
â”‚     â€¢ Error handling & Unicode support                              â”‚
â”‚     â€¢ Type hints & code quality                                     â”‚
â”‚     â€¢ Extensible architecture                                       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COMPLETE WORKFLOW EXAMPLE                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Day 1 - Morning Batch:                                             â”‚
â”‚  $ python batch_test_models.py                                      â”‚
â”‚    â†’ Select: smollm2-360m, gemma-2-2b                               â”‚
â”‚    â†’ Creates: test_results/2025-10-09_1/                            â”‚
â”‚                                                                      â”‚
â”‚  $ python eval_batch.py                                             â”‚
â”‚    â†’ Evaluates: 2025-10-09_1                                        â”‚
â”‚    â†’ Creates: gemini_evaluation_report_2025-10-09_10-30-00.json    â”‚
â”‚                                                                      â”‚
â”‚  $ start evaluation-viewer.html                                     â”‚
â”‚    â†’ Drag: gemini_evaluation_report_2025-10-09_10-30-00.json       â”‚
â”‚    â†’ View results instantly!                                        â”‚
â”‚                                                                      â”‚
â”‚  Day 1 - Afternoon Batch:                                           â”‚
â”‚  $ python batch_test_models.py                                      â”‚
â”‚    â†’ Select: phi-3.5-mini, qwen3-4b                                 â”‚
â”‚    â†’ Creates: test_results/2025-10-09_2/                            â”‚
â”‚                                                                      â”‚
â”‚  $ python eval_batch.py                                             â”‚
â”‚    â†’ Auto-detects latest: 2025-10-09_2                             â”‚
â”‚    â†’ Creates: gemini_evaluation_report_2025-10-09_15-30-00.json    â”‚
â”‚                                                                      â”‚
â”‚  $ start evaluation-viewer.html                                     â”‚
â”‚    â†’ Tab 1: Drag morning results                                    â”‚
â”‚    â†’ Tab 2: Drag afternoon results                                  â”‚
â”‚    â†’ Compare side-by-side!                                          â”‚
â”‚                                                                      â”‚
â”‚  Day 2 - Archive:                                                   â”‚
â”‚  $ python html-report-generator.py                                  â”‚
â”‚    â†’ Creates: evaluation_report.html (static, for archiving)        â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FILE STRUCTURE                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Crisis-AI-evaluation/                                              â”‚
â”‚  â”œâ”€â”€ ğŸš€ MAIN SCRIPTS                                                â”‚
â”‚  â”‚   â”œâ”€â”€ batch_test_models.py          (Automated testing)          â”‚
â”‚  â”‚   â”œâ”€â”€ llm-crisis-questions-test.py  (Core Q&A)                   â”‚
â”‚  â”‚   â”œâ”€â”€ test-evaluation.py            (Gemini evaluation)          â”‚
â”‚  â”‚   â””â”€â”€ eval_batch.py                 (Batch helper)               â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€â”€ ğŸ¨ VISUALIZATION                                               â”‚
â”‚  â”‚   â”œâ”€â”€ evaluation-viewer.html        (Interactive viewer â­)      â”‚
â”‚  â”‚   â””â”€â”€ html-report-generator.py      (Static generator)           â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€â”€ ğŸ“š DOCUMENTATION                                               â”‚
â”‚  â”‚   â”œâ”€â”€ README.md                     (Project overview)           â”‚
â”‚  â”‚   â”œâ”€â”€ QUICK_START.md                (5-min guide)                â”‚
â”‚  â”‚   â”œâ”€â”€ EVALUATION_VIEWER_GUIDE.md    (Viewer docs)                â”‚
â”‚  â”‚   â”œâ”€â”€ BATCH_ORGANIZATION.md         (Batch system)               â”‚
â”‚  â”‚   â”œâ”€â”€ AUTOMATED_BATCH_TESTING.md    (Automation)                 â”‚
â”‚  â”‚   â””â”€â”€ SYSTEM_READY.md               (Feature summary)            â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€â”€ ğŸ“Š DATA                                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Crisis-Questions.json                                      â”‚
â”‚  â”‚   â”œâ”€â”€ gemini_evaluation_report_*.json                            â”‚
â”‚  â”‚   â””â”€â”€ test_results/                                              â”‚
â”‚  â”‚       â”œâ”€â”€ 2025-10-09_1/                                          â”‚
â”‚  â”‚       â”‚   â”œâ”€â”€ model1_*.json                                      â”‚
â”‚  â”‚       â”‚   â””â”€â”€ model1_*_runinfo.json                              â”‚
â”‚  â”‚       â””â”€â”€ 2025-10-09_2/                                          â”‚
â”‚  â”‚           â””â”€â”€ ...                                                â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â””â”€â”€ ğŸ”§ UTILITIES                                                   â”‚
â”‚      â”œâ”€â”€ check_test_status.py                                       â”‚
â”‚      â”œâ”€â”€ list_gemini_models.py                                      â”‚
â”‚      â””â”€â”€ requirements.txt                                           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack

### Backend (Python)
- **Subprocess** - LM Studio CLI control
- **Requests** - HTTP API communication
- **Questionary** - Interactive UI
- **Google Gemini API** - Evaluation

### Frontend (HTML Viewer)
- **HTML5** - Structure
- **Tailwind CSS** - Styling (CDN)
- **JavaScript ES6+** - Logic
- **FileReader API** - Local file access

### Infrastructure
- **LM Studio** - Model serving
- **Batch folders** - Result organization
- **Environment variables** - Configuration

## Data Flow

```
Questions (JSON)
    â†“
LLM Models (via LM Studio API)
    â†“
Answers + Timing (JSON files in batch folders)
    â†“
Gemini Evaluation (via Google API)
    â†“
Scores + Justifications (Evaluation JSON)
    â†“
Interactive Viewer (HTML drag & drop)
    â†“
Visual Analysis (Browser)
```

## Key Innovations

1. **CLI Automation** - Discovered `lms` commands for model control
2. **Batch Folders** - Organized timestamped result storage
3. **Timing Accuracy** - Excludes file I/O from measurements
4. **Unicode Handling** - Windows-compatible subprocess calls
5. **Interactive Viewer** - Zero-dependency browser-based UI

## Status: PRODUCTION READY âœ…

All components tested and documented. Ready for immediate use!
